[TOC]

---



### 什么是CDN

CDN，Content Delivery Network，内容分发网络。

它的作用是通过找到最近的节点，从而**减少传播时延**。



### 优点

* 访问加速

    减少传播时延，在很大程度上可以加速访问速度

* 减轻源站压力

    用户所需资源可以直接在CDN服务器上获取，而无需回到源服务器，源服务器的负载自然减轻。

* 防止DDOS

    源站压力减下来了，自然不用担心DDOS



### 原理

地址栏键入url，如果浏览器发现本地没有这个网址的DNS缓存，它将向网站的DNS服务器发起请求；

DNS服务器上设置了对应的CNAME，指向某个CDN服务器（比如阿里云CDN服务器），然后去请求这个CDN的负载均衡系统；

负载均衡系统解析域名，将**对用户响应最快**的服务器节点IP返回给用户，最后用户向这个节点发起请求。

如果是第一次请求并且没有过资源预热（主动推送），CDN会向源站请求并缓存；如果已有缓存，直接返回给用户。



### 就近节点判断算法





### Hash一致性

环形hash空间，顺时针最近节点。

