[TOC]

---

### 写在前面

研制一个脚手架工具的意义在于：

* 对团队而言，它是业务能力的精炼，很大程度上代表着团队进行项目开发的最佳实践，是一种提效手段。
* 对个人而言，它能考验nodejs水平、工程化能力以及工具服务的设计能力。



### 应具备的能力

熟知的 `vue-cli` `create-react-app` `@tarojs/cli` `umi` 等脚手架的基本功能是：

> 提出一系列 **问题选项**，然后 **为新建项目提供一份模板** 并 **安装依赖**，最后提供 **调试构建** 命令。

此外还要考虑到脚手架工具应当具有可伸缩性，同时是用户友好的。因此还应当具备：

* 友好的UI界面

    合适的格式、颜色、进度等；

* 版本检测更新

    比如：`npm view react version`

* 支持模板拓展

    比如pc、移动、node全栈、小程序。

* 构建功能独立

    不同模板的构建工具选择可能不同，因此可以将构建能力单独抽取出一个功能包。



### 功能模块拆分

经调研，脚手架工具一般划分为三个功能模块包：

|    包名    |            功能             |              安装位置              |
| :--------: | :-------------------------: | :--------------------------------: |
| 全局命令包 |     响应命令；模块调度      |            全局模块位置            |
| 模板插件包 |   初始化项目时的模板文件    |              （待定）              |
| 构建插件包 | 提供构建能力（比如webpack） | 工程内（vue、react都采用这种方式） |



### 全局命令包



### 模板插件包



### 构建插件包

